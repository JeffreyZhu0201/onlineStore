<!--index.wxml-->

<view class="block">
	<t-navbar
	 t-class-placeholder="t-navbar-placeholder"
	 t-class-content="t-navbar-content"
	 class="indexNavBar"
	 title="商品目录"
	 t-class-title="nav-title"
	/>
</view>

<view>

	<searchGoods/>

	<view class="side-bar-wrapper" style="height: calc(100vh - {{navbarHeight}}px)">
		<t-side-bar value="{{sideBarIndex}}" bind:change="onSideBarChange" class="side-bar">
			<t-side-bar-item
			 wx:for="{{categories}}"
			 wx:key="label"
			 value="{{item.value || index}}"
			 label="{{item.label}}"
			 disabled="{{item.disabled}}"
			 badge-props="{{item.badgeProps}}"
			/>
		</t-side-bar>

		<view class="content" style="transform: translateY(-{{sideBarIndex * 100}}%)">
			<scroll-view
			 wx:for="{{categories}}"
			 wx:key="label"
			 class="section"
			 scroll-y
			 scroll-top="{{scrollTop}}"
			 scroll-with-animation
			 show-scrollbar="{{false}}"
			>
				<view class="title">{{item.title || item.label}}</view>
				<goodCard/>
				<goodCard/>
				<goodCard/>
			</scroll-view>
		</view>
	</view>
	<view style="width: 100%;height: calc(150rpx + env(safe-area-inset-bottom) / 2);"></view>
</view>

